<!DOCTYPE html>
<html lang="en">
<head>
    @@include('layout/meta.html', {
        "title" : "中級單字地圖"
    })
</head>
<body>
    <!-- header -->
    @@include('layout/header.html')
    <!-- header end -->
    <section class="bigMap">  
        <div class="studyMap_map wordlv2">
            <!-- 人物角色 -->
            <div class="studyMap_npc a left" >
                <img src="./images/studyMap_NPC_number.png" id="number" class="npc-img">
            </div>
            <div class="studyMap_npc b right" >
                <img src="./images/studyMap_NPC_time.png" id="time" class="npc-img">
            </div>
            <div class="studyMap_npc c right" >
                <img src="./images/studyMap_NPC_color.png" id="color" class="npc-img">
            </div>
            <div class="studyMap_npc d left" >
                <img src="./images/studyMap_NPC_food.png" id="food" class="npc-img">
            </div>
            <div class="studyMap_npc e right" >
                <img src="./images/studyMap_NPC_trafic.png" id="trafic" class="npc-img">
            </div>
            <!-- 圖像框 -->
            <div class="studyMap_main" id="mapMain">
                <img id="main_pic" src="">
                <p id="main_text"></p>
            </div>
            <!-- 對話框 -->
            <div class="studyMap_con" id="mapCon">
                <p id="con"></p>
                <div class="fix-item">
                    <div id="sound">
                        <img  src="./images/icon_speaker.png">
                    </div>
                    <audio id="voice">
                    <source = src="" type="audio/mp3">
                    </audio>
                    <div class="npc-pic">
                        <img id="pic" src="">
                    </div>
            </div>
                
            </div>
            <div class="studyMap_con " id="mapCon">
                <p id="con">
                </p>
            </div>
            <!-- 背景濾鏡 -->
            <div class="studyMap_fliter" id="mapFliter"></div>
            <div class="quit" id="close"></div>
            <!-- 前往測驗對話框 -->
            <div class="go-to-test" id="toTest">
                <div class="ask">
                    <p>前往測驗</p>
                </div>
                <div class="yes" id="Yes">
                    <button>確認</button>
                </div>
                <div class="no" id="No">
                    <button>先不要</button>
                </div>
            </div>
            <div class="item">
                <img src="./images/studyMap_guide4.png">
            </div>
        </div>
        <script>
            //==========對話招呼============
            let startCon = new Array('你好，我是數字大師，今天一起來學習數字吧!','我是時間管理大師，I want to know，你行不行?','初次見面，我是顏色大師，學習顏色怎麼說吧!','嘿嘿嘿，我是え...一起來學...50音え段...','我是お~今天一起來學習50音的母音お段~~' );
             //==========對話框人像============
            let npcSrc = new Array('./images/studyMap_NPC_number.png','./images/studyMap_NPC_time.png','./images/studyMap_NPC_color.png','./images/studyMap_NPC_food.png','./images/studyMap_NPC_trafic.png' );
             //==========對話============
            let numberCon = new Array("首先是「1」發音為「ichi」","再來是「2」，發音為「ni」","再來是「3」，發音為「san」","再來是「4」，發音為「yonn」","再來是「5」，發音為「go」","再來是「6」，發音為「roku」","再來是「7」，發音為「nana」","再來是「8」，發音為「hachi」","再來是「9」，發音為「kyuu」","再來是「10」，發音為「jyuu」","再來是「100」，發音為「hyaku」","再來是「1千」，發音為「sen」","再來是「1萬」，發音為「ichiman」");
            let timeCon = new Array("「おととい」前天，發音為「ototoi」","「きのう」昨天，發音為「kinou」","「きょう」今天，發音為「kyou」","「あした」明天，發音為「ashita」","「あさって」後天，發音為「asa-te」","「にちようび」星期日，發音為「nichiyoubi」","「げつようび」星期一，發音為「getsuyoubi」","「かようび」星期二，發音為「kayoubi」","「すいようび」星期三，發音為「suiyoubi」","「もくようび」星期四，發音為「mokuyoubi」","「きんようび」星期五，發音為「kinyoubi」","「どようび」星期六，發音為「doyoubi」");
            let colorCon = new Array("首先教學的是「しろ」白色，發音為「shiro」","再來是「くろ」黑色，發音為「kuro」","再來是「あか」紅色，發音為「aka」","再來是「あお」藍色，發音為「ao」","再來是「きいろ」黃色，發音為「kiiro」","再來是「ちゃいろ」棕色，發音為「chairo」","再來是「みどり」綠色，發音為「midori」","再來是「むらさき」紫色，發音為「murasaki」","再來是「きんいろ」金色，發音為「kiniro」","再來是「ぎんいろ」銀色，發音為「giniro」");
            let eCon = new Array("首先...「え」發音為「e」...","...「け」白色，發音為「ke」...","...「せ」，發音為「se」...","...「て」，發音為「te」...","...「ね」，發音為「ne」...","...「へ」，發音為「he」...","...「め」，發音為「me」...","...「れ」，發音為「re」...");
            let oCon = new Array("首先教學的是「お」發音為「o」","再來是「こ，發音為「ko」","再來是「そ」，發音為「so」","再來是「と」，發音為「to」","再來是「の」，發音為「no」","再來是「ほ」，發音為「ho」","再來是「も」，發音為「mo」","再來是「よ」，發音為「yo」","再來是「ろ」，發音為「ro」","再來是「を」，發音為「wo」","最後一個是鼻音「ん」，發音為「n」");
            //===========聲音檔路徑===========
            let soundSrcNumber = new Array("./sound/1.mp3","./sound/2.mp3","./sound/3.mp3","./sound/4.mp3","./sound/5.mp3","./sound/6.mp3","./sound/7.mp3","./sound/8.mp3","./sound/9.mp3","./sound/10.mp3","./sound/100.mp3","./sound/1000.mp3","./sound/10000.mp3");
            let soundSrcTime = new Array("./sound/tdby.mp3","./sound/yesterday.mp3","./sound/today.mp3","./sound/tomorrow.mp3","./sound/tdat.mp3","./sound/sunday.mp3","./sound/monday.mp3","./sound/tuesday.mp3","./sound/wendsday.mp3","./sound/thursday.mp3","./sound/friday.mp3","./sound/saturnday.mp3");
            let soundSrcColor = new Array("./sound/white.mp3","./sound/black.mp3","./sound/red.mp3","./sound/blue.mp3","./sound/yellow.mp3","./sound/brown.mp3","./sound/green.mp3","./sound/purple.mp3","./sound/gold.mp3","./sound/silver.mp3");
            let soundSrcE = new Array("./sound/e.mp3","./sound/ke.mp3","./sound/se.mp3","./sound/te.mp3","./sound/ne.mp3","./sound/he.mp3","./sound/me.mp3","./sound/re.mp3");
            let soundSrcO = new Array("./sound/o.mp3","./sound/ko.mp3","./sound/so.mp3","./sound/to.mp3","./sound/no.mp3","./sound/ho.mp3","./sound/mo.mp3","./sound/yo.mp3","./sound/ro.mp3","./sound/wo.mp3","./sound/n.mp3");
             //==========圖像檔路徑==============
            // let fifityPicNumber = new Array("./images/studyMap_ichi.svg","./images/studyMap_ni2.svg","./images/studyMap_san.svg","./images/studyMap_yonn.svg","./images/studyMap_go.svg","./images/studyMap_roku.svg","./images/studyMap_nana.svg","./images/studyMap_hachi.svg","./images/studyMap_kyuu.svg","./images/studyMap_jyuu.svg","./images/studyMap_hyaku.svg","./images/studyMap_sen.svg","./images/studyMap_ichiman.svg");//13
            // let fifityPicTime = new Array("./images/studyMap_tdby.svg","./images/studyMap_yesterday.svg","./images/studyMap_today.svg","./images/studyMap_tomorrow.svg","./images/studyMap_tdat.svg","./images/studyMap_sunday.svg","./images/studyMap_monday.svg","./images/studyMap_tuseday.svg","./images/studyMap_wendsday.svg","./images/studyMap_thursday.svg","./images/studyMap_friday.svg","./images/studyMap_saturnday.svg");//12
            // let fifityPicColor = new Array("./images/studyMap_white.svg","./images/studyMap_black.svg","./images/studyMap_red.svg","./images/studyMap_blue.svg","./images/studyMap_yellow.svg","./images/studyMap_brown.svg","./images/studyMap_green.svg","./images/studyMap_purple.svg","./images/studyMap_gold.svg","./images/studyMap_silver.svg");//10
            // let fifityPicE = new Array("./images/studyMap_e.svg","./images/studyMap_ke.svg","./images/studyMap_se.svg","./images/studyMap_te.svg","./images/studyMap_ne.svg","./images/studyMap_he.svg","./images/studyMap_me.svg","./images/studyMap_re.svg");//8
            // let fifityPicO = new Array("./images/studyMap_o.svg","./images/studyMap_ko.svg","./images/studyMap_so.svg","./images/studyMap_to.svg","./images/studyMap_no.svg","./images/studyMap_ho.svg","./images/studyMap_mo.svg","./images/studyMap_yo.svg","./images/studyMap_ro.svg","./images/studyMap_wo.svg","./images/studyMap_n.svg");//11
            //===============================
            let cat = document.getElementById('mapCon');
            let speaker = document.getElementById('sound');
            let photo = document.getElementById('mapMain');
            let fifty = document.getElementById('main_pic')
            let con = document.getElementById('con');
            let sound = document.getElementById('voice');
            let test = document.getElementById('toTest');
            let filter = document.getElementById('mapFliter');
            let closeBox = document.getElementById('close');
            let pic = document.getElementById('pic');
            let number = document.getElementById('number');
            let time = document.getElementById('time');
            let color = document.getElementById('color');
            let food = document.getElementById('food');
            let trafic = document.getElementById('trafic');
        function showLightBox(e){
            //背景變暗
            filter.style.display='block';
            cat.style.display ='flex';
            closeBox.style.display ='block';
            number.style.display="none";
            time.style.display="none";
            color.style.display="none";
            food.style.display="none";
            trafic.style.display="none";
            let target = e.target.getAttribute('id');
                if(target =='number'){
                    con.innerText = startCon[0];
                    pic.src = npcSrc[0];
                }else if(target =='time'){
                    con.innerText = startCon[1];
                    pic.src = npcSrc[1];
                }else if(target =='color'){
                    con.innerText = startCon[2];
                    pic.src = npcSrc[2];
                }else if(target =='food'){
                    con.innerText = startCon[3];
                    pic.src = npcSrc[3];
                }else if(target =='trafic'){
                    con.innerText = startCon[4];
                    pic.src = npcSrc[4];
                }
        }
        function conversation(){
            speaker.style.display='flex';
            photo.style.display='flex';
            
            let temp = cat.innerText.trim();
            //數字
            if(temp == startCon[0] ){
                con.innerText = numberCon[0];
                sound.src = soundSrcNumber[0];
                fifty.src = fifityPicNumber[0];
            }else if(temp == numberCon[0]){
                con.innerText = numberCon[1];
                sound.src = soundSrcNumber[1];
                fifty.src = fifityPicNumber[1];
            }else if(temp == numberCon[1]){
                con.innerText = numberCon[2];
                sound.src = soundSrcNumber[2];
                fifty.src = fifityPicNumber[2];
            }else if(temp == numberCon[2]){
                con.innerText = numberCon[3];
                sound.src = soundSrcNumber[3];
                fifty.src = fifityPicNumber[3];
            }else if(temp == numberCon[3]){
                con.innerText = numberCon[4];
                sound.src = soundSrcNumber[4];
                fifty.src = fifityPicNumber[4];
            }else if(temp == numberCon[4]){
                con.innerText = numberCon[5];
                sound.src = soundSrcNumber[5];
                fifty.src = fifityPicNumber[5];
            }else if(temp == numberCon[5]){
                con.innerText = numberCon[6];
                sound.src = soundSrcNumber[6];
                fifty.src = fifityPicNumber[6];
            }else if(temp == numberCon[6]){
                con.innerText = numberCon[7];
                sound.src = soundSrcNumber[7];
                fifty.src = fifityPicNumber[7];
            }else if(temp == numberCon[7]){
                con.innerText = numberCon[8];
                sound.src = soundSrcNumber[8];
                fifty.src = fifityPicNumber[8];
            }else if(temp == numberCon[8]){
                con.innerText = numberCon[9];
                sound.src = soundSrcNumber[9];
                fifty.src = fifityPicNumber[9];
            }else if(temp == numberCon[9]){
                con.innerText = numberCon[10];
                sound.src = soundSrcNumber[10];
                fifty.src = fifityPicNumber[10];
            }else if(temp == numberCon[10]){
                con.innerText = numberCon[11];
                sound.src = soundSrcNumber[11];
                fifty.src = fifityPicNumber[11];
            }else if(temp == numberCon[11]){
                con.innerText = numberCon[12];
                sound.src = soundSrcNumber[12];
                fifty.src = fifityPicNumber[12];
            }else if(temp == numberCon[12]){
                con.innerText = numberCon[0];
                sound.src = soundSrcNumber[0];
                fifty.src = fifityPicNumber[0];
                cat.style.display ='none';
                speaker.style.display='none';
                photo.style.display='none';
                closeBox.style.display='none';
                toTest.style.display='flex';
            }
            //時間
            else if(temp == startCon[1]){
                con.innerText = timeCon[0];
                sound.src = soundSrcTime[0];
                fifty.src = fifityPicTime[0];
            }else if(temp == timeCon[0]){
                con.innerText = timeCon[1];
                sound.src = soundSrcTime[1];
                fifty.src = fifityPicTime[1];
            }else if(temp == timeCon[1]){
                con.innerText = timeCon[2];
                sound.src = soundSrcTime[2];
                fifty.src = fifityPicTime[2];
            }else if(temp == timeCon[2]){
                con.innerText = timeCon[3];
                sound.src = soundSrcTime[3];
                fifty.src = fifityPicTime[3];
            }else if(temp == timeCon[3]){
                con.innerText = timeCon[4];
                sound.src = soundSrcTime[4];
                fifty.src = fifityPicTime[4];
            }else if(temp == timeCon[4]){
                con.innerText = timeCon[5];
                sound.src = soundSrcTime[5];
                fifty.src = fifityPicTime[5];
            }else if(temp == timeCon[5]){
                con.innerText = timeCon[6];
                sound.src = soundSrcTime[6];
                fifty.src = fifityPicTime[6];
            }else if(temp == timeCon[6]){
                con.innerText = timeCon[7];
                sound.src = soundSrcTime[7];
                fifty.src = fifityPicTime[7];
            }else if(temp == timeCon[7]){
                con.innerText = timeCon[8];
                sound.src = soundSrcTime[8];
                fifty.src = fifityPicTime[8];
            }else if(temp == timeCon[8]){
                con.innerText = timeCon[9];
                sound.src = soundSrcTime[9];
                fifty.src = fifityPicTime[9];
            }else if(temp == timeCon[9]){
                con.innerText = timeCon[10];
                sound.src = soundSrcTime[10];
                fifty.src = fifityPicTime[10];
            }else if(temp == timeCon[10]){
                con.innerText = timeCon[11];
                sound.src = soundSrcTime[11];
                fifty.src = fifityPicTime[11];
            }else if(temp == timeCon[11]){
                con.innerText = timeCon[0];
                sound.src = soundSrcTime[0];
                fifty.src = fifityPicTime[0];
                cat.style.display ='none';
                speaker.style.display='none';
                photo.style.display='none';
                closeBox.style.display='none';
                test.style.display='flex';
            }
            //顏色
            else if(temp == startCon[2]){
                con.innerText = colorCon[0];
                sound.src = soundSrcColor[0];
                fifty.src = fifityPicColor[0];
                photo.style.backgroundColor='white'
            }else if(temp == colorCon[0]){
                con.innerText = colorCon[1];
                sound.src = soundSrcColor[1];
                fifty.src = fifityPicColor[1];
                photo.style.backgroundColor='black'
            }else if(temp == colorCon[1]){
                con.innerText = colorCon[2];
                sound.src = soundSrcColor[2];
                fifty.src = fifityPicColor[2];
                photo.style.backgroundColor='red'
            }else if(temp == colorCon[2]){
                con.innerText = colorCon[3];
                sound.src = soundSrcColor[3];
                fifty.src = fifityPicColor[3];
                photo.style.backgroundColor='blue'
            }else if(temp == colorCon[3]){
                con.innerText = colorCon[4];
                sound.src = soundSrcColor[4];
                fifty.src = fifityPicColor[4];
                photo.style.backgroundColor='yellow'
            }else if(temp == colorCon[4]){
                con.innerText = colorCon[5];
                sound.src = soundSrcColor[5];
                fifty.src = fifityPicColor[5];
                photo.style.backgroundColor='brown'
            }else if(temp == colorCon[5]){
                con.innerText = colorCon[6];
                sound.src = soundSrcColor[6];
                fifty.src = fifityPicColor[6];
                photo.style.backgroundColor='green'
            }else if(temp == colorCon[6]){
                con.innerText = colorCon[7];
                sound.src = soundSrcColor[7];
                fifty.src = fifityPicColor[7];
                photo.style.backgroundColor='purple'
            }else if(temp == colorCon[7]){
                con.innerText = colorCon[8];
                sound.src = soundSrcColor[8];
                fifty.src = fifityPicColor[8];
                photo.style.backgroundColor='gold'
            }else if(temp == colorCon[8]){
                con.innerText = colorCon[9];
                sound.src = soundSrcColor[9];
                fifty.src = fifityPicColor[9];
                photo.style.backgroundColor='silver'
            }else if(temp == colorCon[9]){
                con.innerText = colorCon[0];
                sound.src = soundSrcColor[0];
                fifty.src = fifityPicColor[0];
                photo.style.backgroundColor='#FAE6B8';
                cat.style.display ='none';
                speaker.style.display='none';
                photo.style.display='none';
                closeBox.style.display='none';
                test.style.display='flex';;
            }
            //え
            else if(temp == startCon[3]){
                con.innerText = eCon[0];
                sound.src = soundSrcE[0];
                fifty.src = fifityPicE[0];
            }else if(temp == eCon[0]){
                con.innerText = eCon[1];
                sound.src = soundSrcE[1];
                fifty.src = fifityPicE[1];
            }else if(temp == eCon[1]){
                con.innerText = eCon[2];
                sound.src = soundSrcE[2];
                fifty.src = fifityPicE[2];
            }else if(temp == eCon[2]){
                con.innerText = eCon[3];
                sound.src = soundSrcE[3];
                fifty.src = fifityPicE[3];
            }else if(temp == eCon[3]){
                con.innerText = eCon[4];
                sound.src = soundSrcE[4];
                fifty.src = fifityPicE[4];
            }else if(temp == eCon[4]){
                con.innerText = eCon[5];
                sound.src = soundSrcE[5];
                fifty.src = fifityPicE[5];
            }else if(temp == eCon[5]){
                con.innerText = eCon[6];
                sound.src = soundSrcE[6];
                fifty.src = fifityPicE[6];
            }else if(temp == eCon[6]){
                con.innerText = eCon[7];
                sound.src = soundSrcE[7];
                fifty.src = fifityPicE[7];
            }
            else if(temp == eCon[7]){
                con.innerText = eCon[0];
                sound.src = soundSrcE[0];
                fifty.src = fifityPicE[0];
                cat.style.display ='none';
                speaker.style.display='none';
                photo.style.display='none';
                closeBox.style.display='none';
                test.style.display='flex';
            }
            //お
            else if(temp == startCon[4]){
                con.innerText = oCon[0];
                sound.src = soundSrcO[0];
                fifty.src = fifityPicO[0];
            }else if(temp == oCon[0]){
                con.innerText = oCon[1];
                sound.src = soundSrcO[1];
                fifty.src = fifityPicO[1];
            }else if(temp == oCon[1]){
                con.innerText = oCon[2];
                sound.src = soundSrcO[2];
                fifty.src = fifityPicO[2];
            }else if(temp == oCon[2]){
                con.innerText = oCon[3];
                sound.src = soundSrcO[3];
                fifty.src = fifityPicO[3];
            }else if(temp == oCon[3]){
                con.innerText = oCon[4];
                sound.src = soundSrcO[4];
                fifty.src = fifityPicO[4];
            }else if(temp == oCon[4]){
                con.innerText = oCon[5];
                sound.src = soundSrcO[5];
                fifty.src = fifityPicO[5];
            }else if(temp == oCon[5]){
                con.innerText = oCon[6];
                sound.src = soundSrcO[6];
                fifty.src = fifityPicO[6];
            }else if(temp == oCon[6]){
                con.innerText = oCon[7];
                sound.src = soundSrcO[7];
                fifty.src = fifityPicO[7];
            }else if(temp == oCon[7]){
                con.innerText = oCon[8];
                sound.src = soundSrcO[8];
                fifty.src = fifityPicO[8];
            }else if(temp == oCon[8]){
                con.innerText = oCon[9];
                sound.src = soundSrcO[9];
                fifty.src = fifityPicO[9];
            }else if(temp == oCon[9]){
                con.innerText = oCon[10];
                sound.src = soundSrcO[10];
                fifty.src = fifityPicO[10];
            }else if(temp == oCon[10]){
                con.innerText = oCon[0];
                sound.src = soundSrcO[0];
                fifty.src = fifityPicO[0];
                cat.style.display ='none';
                speaker.style.display='none';
                photo.style.display='none';
                closeBox.style.display='none';
                test.style.display='flex';
            }
        }  
        function justPlay(e){
            sound.play();
            e.stopPropagation();//阻止冒泡事件
        }
        function shutDown(){
            filter.style.display='none';
            cat.style.display ='none';
            speaker.style.display='none';
            photo.style.display='none';
            photo.style.backgroundColor='#FAE6B8'; 
            closeBox.style.display='none';
            number.style.display="block";
            time.style.display="block";
            color.style.display="block";
            food.style.display="block";
            trafic.style.display="block";
        }
        function goToTest(e){
            window.location.href="test.html";
        }
        function cancelBox(){
            filter.style.display='none';
            test.style.display='none';
            number.style.display="block";
            time.style.display="block";
            color.style.display="block";
            food.style.display="block";
            trafic.style.display="block";
        }
        function init(){
            let imgs = document.getElementsByClassName('npc-img');
            let goto =document.getElementById('Yes');
            let cancel =document.getElementById('No');
            for(let i=0;i<imgs.length; i++){
                imgs[i].onclick = showLightBox ;
            };
            cat.addEventListener('click',conversation,false);
            speaker.addEventListener('click',justPlay,true);
            closeBox.addEventListener('click',shutDown,false);
            goto.addEventListener('click',goToTest,false);
            cancel.addEventListener('click',cancelBox,false);
        };
        window.addEventListener("load", init, false);
        </script>
    </section>
    @@include('layout/footer.html')


    <!-- <script src="js/studymap.js"></script> -->
</body>
</html>